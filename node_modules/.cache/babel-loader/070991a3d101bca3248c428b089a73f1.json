{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import _regeneratorRuntime from\"E:/ReactJS/covid-19-tracker-master/covid-19-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"E:/ReactJS/covid-19-tracker-master/covid-19-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"E:/ReactJS/covid-19-tracker-master/covid-19-tracker/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import\"./App.css\";import{MenuItem,FormControl,Select,CardContent,Card}from\"@material-ui/core\";import InfoBox from\"./InfoBox\";import Map from\"./Map\";import Table from\"./Table\";import{sortData,prettyPrintStat}from\"./util\";import LineGraph from\"./LineGraph\";import\"leaflet/dist/leaflet.css\";import logo from\"./covid19-logo.png\";function App(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),countries=_useState2[0],setCountries=_useState2[1];var _useState3=useState(\"worldwide\"),_useState4=_slicedToArray(_useState3,2),country=_useState4[0],setCountry=_useState4[1];var _useState5=useState({}),_useState6=_slicedToArray(_useState5,2),countryInfo=_useState6[0],setCountryInfo=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),tableData=_useState8[0],setTableData=_useState8[1];var _useState9=useState([34.80746,-40.4796]),_useState10=_slicedToArray(_useState9,2),mapCenter=_useState10[0],setMapCenter=_useState10[1];var _useState11=useState(3),_useState12=_slicedToArray(_useState11,2),zoom=_useState12[0],setZoom=_useState12[1];var _useState13=useState([]),_useState14=_slicedToArray(_useState13,2),mapCountries=_useState14[0],setMapCountries=_useState14[1];var _useState15=useState(\"cases\"),_useState16=_slicedToArray(_useState15,2),casesType=_useState16[0],setCasesType=_useState16[1];var _useState17=useState(false),_useState18=_slicedToArray(_useState17,2),isLoading=_useState18[0],setLoading=_useState18[1];useEffect(function(){fetch(\"https://disease.sh/v3/covid-19/all\").then(function(response){return response.json();}).then(function(data){setCountryInfo(data);});},[]);useEffect(function(){var getCountriesData=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"https://disease.sh/v3/covid-19/countries\").then(function(response){return response.json();}).then(function(data){var countries=data.map(function(country){return{name:country.country,value:country.countryInfo.iso2};});var sortedData=sortData(data);setTableData(sortedData);setMapCountries(data);setCountries(countries);});case 2:case\"end\":return _context.stop();}}},_callee);}));return function getCountriesData(){return _ref.apply(this,arguments);};}();getCountriesData();},[]);var onCountryChange=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(event){var countryCode,url;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:setLoading(true);countryCode=event.target.value;setCountry(countryCode);url=countryCode===\"worldwide\"?\"https://disease.sh/v3/covid-19/all\":\"https://disease.sh/v3/covid-19/countries/\".concat(countryCode);//https://disease.sh/v3/covid-19/all\n//https://disease.sh/v3/covid-19/countries/[countryCode]\n_context2.next=6;return fetch(url).then(function(response){return response.json();}).then(function(data){setCountry(countryCode);setCountryInfo(data);setLoading(false);// console.log([data.countryInfo.lat, data.countryInfo.long]);\ncountryCode===\"worldwide\"?setMapCenter([34.80746,-40.4796]):setMapCenter([data.countryInfo.lat,data.countryInfo.long]);setZoom(4);});case 6:console.log(countryInfo);case 7:case\"end\":return _context2.stop();}}},_callee2);}));return function onCountryChange(_x){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app__left\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"app__header\",children:[/*#__PURE__*/_jsx(\"img\",{src:logo,style:{width:\"300px\",height:\"170px\",margin:\"-40px\"}}),/*#__PURE__*/_jsx(FormControl,{className:\"app__dropdown\",children:/*#__PURE__*/_jsxs(Select,{variant:\"outlined\",onChange:onCountryChange,value:country,children:[/*#__PURE__*/_jsx(MenuItem,{value:\"worldwide\",children:/*#__PURE__*/_jsx(\"h4\",{className:\"app__right\",children:\"Worldwide\"})}),countries.map(function(country){return/*#__PURE__*/_jsx(MenuItem,{value:country.value,children:country.name});})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"app__stats\",children:[/*#__PURE__*/_jsx(InfoBox,{isRed:true,active:casesType===\"cases\",className:\"infoBox__cases\",onClick:function onClick(e){return setCasesType(\"cases\");},title:\"Coronavirus Cases\",total:prettyPrintStat(countryInfo.cases),cases:prettyPrintStat(countryInfo.todayCases),isloading:isLoading}),/*#__PURE__*/_jsx(InfoBox,{active:casesType===\"recovered\",className:\"infoBox__recovered\",onClick:function onClick(e){return setCasesType(\"recovered\");},title:\"Recovered\",total:prettyPrintStat(countryInfo.recovered),cases:prettyPrintStat(countryInfo.todayRecovered),isloading:isLoading}),/*#__PURE__*/_jsx(InfoBox,{isGrey:true,active:casesType===\"deaths\",className:\"infoBox__deaths\",onClick:function onClick(e){return setCasesType(\"deaths\");},title:\"Deaths\",total:prettyPrintStat(countryInfo.deaths),cases:prettyPrintStat(countryInfo.todayDeaths),isloading:isLoading})]}),/*#__PURE__*/_jsx(Map,{countries:mapCountries,center:mapCenter,zoom:zoom,casesType:casesType})]}),/*#__PURE__*/_jsx(Card,{className:\"app__right\",children:/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Live Cases by Country\"}),/*#__PURE__*/_jsx(Table,{countries:tableData}),/*#__PURE__*/_jsxs(\"h3\",{className:\"app__graphTitle\",children:[\"Worldwide new \",casesType]}),/*#__PURE__*/_jsx(LineGraph,{className:\"app__graph\",casesType:casesType})]})})]});}export default App;","map":{"version":3,"sources":["E:/ReactJS/covid-19-tracker-master/covid-19-tracker/src/App.js"],"names":["React","useEffect","useState","MenuItem","FormControl","Select","CardContent","Card","InfoBox","Map","Table","sortData","prettyPrintStat","LineGraph","logo","App","countries","setCountries","country","setCountry","countryInfo","setCountryInfo","tableData","setTableData","mapCenter","setMapCenter","zoom","setZoom","mapCountries","setMapCountries","casesType","setCasesType","isLoading","setLoading","fetch","then","response","json","data","getCountriesData","map","name","value","iso2","sortedData","onCountryChange","event","countryCode","target","url","lat","long","console","log","width","height","margin","e","cases","todayCases","recovered","todayRecovered","deaths","todayDeaths"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport \"./App.css\";\nimport {\n  MenuItem,\n  FormControl,\n  Select,\n  CardContent,\n  Card,\n} from \"@material-ui/core\";\nimport InfoBox from \"./InfoBox\";\nimport Map from \"./Map\";\nimport Table from \"./Table\";\nimport { sortData, prettyPrintStat } from \"./util\";\nimport LineGraph from \"./LineGraph\";\nimport \"leaflet/dist/leaflet.css\";\nimport logo from \"./covid19-logo.png\";\n\nfunction App() {\n  const [countries, setCountries] = useState([]);\n  const [country, setCountry] = useState(\"worldwide\");\n  const [countryInfo, setCountryInfo] = useState({});\n  const [tableData, setTableData] = useState([]);\n  const [mapCenter, setMapCenter] = useState([34.80746, -40.4796]);\n  const [zoom, setZoom] = useState(3);\n  const [mapCountries, setMapCountries] = useState([]);\n  const [casesType, setCasesType] = useState(\"cases\");\n  const [isLoading, setLoading] = useState(false);\n\n  useEffect(() => {\n    fetch(\"https://disease.sh/v3/covid-19/all\")\n      .then((response) => response.json())\n      .then((data) => {\n        setCountryInfo(data);\n      });\n  }, []);\n\n  useEffect(() => {\n    const getCountriesData = async () => {\n      await fetch(\"https://disease.sh/v3/covid-19/countries\")\n        .then((response) => response.json())\n        .then((data) => {\n          const countries = data.map((country) => ({\n            name: country.country,\n            value: country.countryInfo.iso2,\n          }));\n\n          const sortedData = sortData(data);\n          setTableData(sortedData);\n          setMapCountries(data);\n          setCountries(countries);\n        });\n    };\n\n    getCountriesData();\n  }, []);\n\n  const onCountryChange = async (event) => {\n    setLoading(true);\n    const countryCode = event.target.value;\n\n    setCountry(countryCode);\n\n    const url =\n      countryCode === \"worldwide\"\n        ? \"https://disease.sh/v3/covid-19/all\"\n        : `https://disease.sh/v3/covid-19/countries/${countryCode}`;\n\n    //https://disease.sh/v3/covid-19/all\n    //https://disease.sh/v3/covid-19/countries/[countryCode]\n\n    await fetch(url)\n      .then((response) => response.json())\n      .then((data) => {\n        setCountry(countryCode);\n        setCountryInfo(data);\n        setLoading(false);\n        // console.log([data.countryInfo.lat, data.countryInfo.long]);\n        countryCode === \"worldwide\"\n          ? setMapCenter([34.80746, -40.4796])\n          : setMapCenter([data.countryInfo.lat, data.countryInfo.long]);\n        setZoom(4);\n      });\n\n    console.log(countryInfo);\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"app__left\">\n        <div className=\"app__header\">\n          <img\n            src={logo}\n            style={{ width: \"300px\", height: \"170px\", margin: \"-40px\" }}\n          />\n          <FormControl className=\"app__dropdown\">\n            <Select\n              variant=\"outlined\"\n              onChange={onCountryChange}\n              value={country}\n            >\n              <MenuItem value=\"worldwide\">\n                <h4 className=\"app__right\">Worldwide</h4>\n              </MenuItem>\n              {countries.map((country) => (\n                <MenuItem value={country.value}>{country.name}</MenuItem>\n              ))}\n            </Select>\n          </FormControl>\n        </div>\n\n        <div className=\"app__stats\">\n          <InfoBox\n            isRed\n            active={casesType === \"cases\"}\n            className=\"infoBox__cases\"\n            onClick={(e) => setCasesType(\"cases\")}\n            title=\"Coronavirus Cases\"\n            total={prettyPrintStat(countryInfo.cases)}\n            cases={prettyPrintStat(countryInfo.todayCases)}\n            isloading={isLoading}\n          />\n          <InfoBox\n            active={casesType === \"recovered\"}\n            className=\"infoBox__recovered\"\n            onClick={(e) => setCasesType(\"recovered\")}\n            title=\"Recovered\"\n            total={prettyPrintStat(countryInfo.recovered)}\n            cases={prettyPrintStat(countryInfo.todayRecovered)}\n            isloading={isLoading}\n          />\n          <InfoBox\n            isGrey\n            active={casesType === \"deaths\"}\n            className=\"infoBox__deaths\"\n            onClick={(e) => setCasesType(\"deaths\")}\n            title=\"Deaths\"\n            total={prettyPrintStat(countryInfo.deaths)}\n            cases={prettyPrintStat(countryInfo.todayDeaths)}\n            isloading={isLoading}\n          />\n        </div>\n        {/* Map */}\n        <Map\n          countries={mapCountries}\n          center={mapCenter}\n          zoom={zoom}\n          casesType={casesType}\n        />\n      </div>\n      <Card className=\"app__right\">\n        <CardContent>\n          <h3>Live Cases by Country</h3>\n          <Table countries={tableData} />\n          <h3 className=\"app__graphTitle\">Worldwide new {casesType}</h3>\n          <LineGraph className=\"app__graph\" casesType={casesType} />\n        </CardContent>\n        {/* Table */}\n        {/* Graph */}\n      </Card>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}